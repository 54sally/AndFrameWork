# Usage 

## Add to your project build.gradle file:

    dependencies {
      compile 'com.airbnb:deeplinkdispatch:3.1.1'
      annotationProcessor 'com.airbnb:deeplinkdispatch-processor:3.1.1'
    }

## Create your deep link module(s) (new on DeepLinkDispatch v3). For every class you annotate with @DeepLinkModule, DeepLinkDispatch will generate a "Loader" class, which contains a registry of all your @DeepLink annotations.

    /** This will generate a AppDeepLinkModuleLoader class */
    @DeepLinkModule
    public class AppDeepLinkModule {
    }

##Optional: If your Android application contains multiple modules (eg. separated Android library projects), you'll want to add one @DeepLinkModule class for every module in your application, so that DeepLinkDispatch can collect all your annotations in one "loader" class per module:

    /** This will generate a LibraryDeepLinkModuleLoader class */
    @DeepLinkModule
    public class LibraryDeepLinkModule {
    }

##Create any Activity (eg. DeepLinkActivity) with the scheme you'd like to handle in your AndroidManifest.xml file (using foo as an example):

    <activity
        android:name="com.example.DeepLinkActivity"
        android:theme="@android:style/Theme.NoDisplay">
        <intent-filter>
            <action android:name="android.intent.action.VIEW" />
            <category android:name="android.intent.category.DEFAULT" />
            <category android:name="android.intent.category.BROWSABLE" />
            <data android:scheme="foo" />
        </intent-filter>
    </activity>

## Annotate your DeepLinkActivity with @DeepLinkHandler and provide it a list of @DeepLinkModule annotated class(es):

    @DeepLinkHandler({ AppDeepLinkModule.class, LibraryDeepLinkModule.class })
    public class DeepLinkActivity extends Activity {
      @Override protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        // DeepLinkDelegate, LibraryDeepLinkModuleLoader and AppDeepLinkModuleLoader
        // are generated at compile-time.
        DeepLinkDelegate deepLinkDelegate = 
            new DeepLinkDelegate(new AppDeepLinkModuleLoader(), new LibraryDeepLinkModuleLoader());
        // Delegate the deep link handling to DeepLinkDispatch. 
        // It will start the correct Activity based on the incoming Intent URI
        deepLinkDelegate.dispatchFrom(this);
        // Finish this Activity since the correct one has been just started
        finish();
      }
    }

Notes

    Starting with DeepLinkDispatch v3, you have to always provide your own Activity class and annotate it with @DeepLinkHandler. It's no longer automatically generated by the annotation processor.
    Intent filters may only contain a single data element for a URI pattern. Create separate intent filters to capture additional URI patterns.
    Please refer to the sample app for an example of how to use the library.
